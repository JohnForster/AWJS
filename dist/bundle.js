!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var r,o,i,a,u=function(){function t(t){this.canvas=this.setupCanvas(),this.context=this.canvas.getContext("2d"),this.cachedCanvas=document.createElement("canvas"),this.sprites=t.data.sprites}return t.prototype.render=function(n){var e=this;return n?(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),n.gridElements&&n.gridElements.forEach(function(t,n){t.forEach(function(t,r){if(void 0!==t){var o=e.sprites[t],i=16*r+(o.ax||0),a=16*n+(o.ay||0);e.context.putImageData(o.imageData,i+8,a+8)}})}),n.nonGridElements&&n.nonGridElements.forEach(function(t){var n=e.sprites[t.id],r=16*t.x+(n.ax||0),o=16*t.y+(n.ay||0);e.context.putImageData(n.imageData,r+8,o+8)}),this.cachedCanvas=t.cloneCanvas(this.canvas),this.canvas):this.cachedCanvas},t.cloneCanvas=function(t){var n=document.createElement("canvas"),e=n.getContext("2d");return n.width=t.width,n.height=t.height,e.drawImage(t,0,0),n},t.prototype.setupCanvas=function(){var t=document.createElement("canvas");return t.height=600,t.width=800,t},t}(),s=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n}(u),f=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return f(n,t),n}(u),p=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return p(n,t),n}(u),d=function(){function t(){}return t.getTerrainScreenObjects=function(t){return{gridElements:t.terrain.mapIdGrid}},t.getUnitsScreenObjects=function(t){var n=Array(32).fill(void 0).map(function(t){return Array(32)});return t.units.forEach(function(t){n[t.gridPosY][t.gridPosX]=t.type.id}),{gridElements:n}},t}(),y=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a},v=function(){function t(t,n,e){this.logicModel=t,this.uiModel=n,this.mainCanvas=this.setupMainCanvas(),this.mainContext=this.mainCanvas.getContext("2d"),this.bgRenderer=new c(e.terrain),this.uiRenderer=new h(e.ui),this.unitRenderer=new l(e.units)}return t.prototype.render=function(){var t=this.getGameState(),n=d.getTerrainScreenObjects(t),e=d.getUnitsScreenObjects(t),r=y(this.renderGame(n,e),2),o=r[0],i=r[1],a=this.getUIState(),u=this.renderUI(a);this.paintToMainCanvas(o,i,u)},t.prototype.paintToMainCanvas=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.mainContext.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height),n.forEach(function(n){t.mainContext.drawImage(n,0,0)})},t.prototype.renderGame=function(t,n){return[this.bgRenderer.render(t),this.unitRenderer.render(n)]},t.prototype.renderUI=function(t){return console.log(t),this.uiRenderer.render(t)},t.prototype.getGameState=function(){return this.logicModel.getState()},t.prototype.getUIState=function(){return this.uiModel.getState()},t.prototype.setupMainCanvas=function(){var t=document.getElementById("canvas");return t.height=600,t.width=800,t},t}(),m=function(){function t(t){this.keyMappings={w:"up",s:"down",a:"left",d:"right"," ":"A"},this.uiModel=t,document.onkeypress=this.handleKeyPress.bind(this),document.onkeyup=this.handleKeyUp.bind(this)}return t.prototype.handleKeyPress=function(t){var n=this.keyMappings[t.key.toLowerCase()];n&&this.uiModel.send(n)},t.prototype.handleKeyUp=function(){this.uiModel.send()},t}(),g=function(){function t(t,n,e,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];this.instructions={up:function(){},down:function(){},left:function(){},right:function(){},A:function(){},B:function(){},L:function(){},R:function(){},start:function(){},select:function(){}},this.uiModel=t,this.position={x:n,y:e,z:r},this.init(o)}return t.prototype.init=function(t){},t.prototype.sendInstruction=function(t){this.instructions[t]()},t}(),w=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.name="cursor",n.id=0,n.instructions={up:function(){n.moveUp()},down:function(){n.moveDown()},left:function(){n.moveLeft()},right:function(){n.moveRight()},A:function(){n.uiModel.select(n.uiModel.hoveredUnit)},B:function(){},L:function(){},R:function(){},start:function(){},select:function(){}},n}return w(n,t),n.prototype.moveUp=function(t){void 0===t&&(t=1),this.position.y>0&&(this.position.y-=t)},n.prototype.moveDown=function(t){void 0===t&&(t=1),this.position.y+=t},n.prototype.moveLeft=function(t){void 0===t&&(t=1),this.position.x>0&&(this.position.x-=t)},n.prototype.moveRight=function(t){void 0===t&&(t=1),this.position.x+=t},n}(g),x=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id=1,n}return x(n,t),n}(g),S=function(){function t(t,n,e,r){this.loadedUnits=[],this.hidden=!1,this.type=t,this.playerId=n,this.gridPosX=e,this.gridPosY=r,this.currentHealth=t.totalHealth,this.currentFuel=t.maxFuel,this.currentAmmo=t.maxAmmo}return t.prototype.destroy=function(){this.gridPosX=this.gridPosY=this.currentAmmo=this.currentFuel=this.currentHealth=-1},t.prototype.damage=function(t){this.currentHealth-=t,this.currentHealth<0&&this.destroy()},t}(),P=function(){function t(t){this.currentUIState={gridElements:Array.from(Array(32),function(t){return Array(32)})},this.objects=[],console.log("New UI Model created"),this.logicModel=t,this.gameState=t.getState(),this.cursor=this.create(b,{x:0,y:0,z:0}),this.focus(this.cursor),this.refreshState()}return t.prototype.send=function(t){t&&this.focussedObject.sendInstruction(t),this.refreshState()},t.prototype.create=function(t,n,e){var r=new t(this,n.x,n.y,n.z);return e&&e(r),this.objects.push(r),r},t.prototype.refreshState=function(){var t=this;this.focussedObject===this.cursor&&(this.objects.push(this.cursor),this.hoveredUnit=this.logicModel.findUnitAt(this.cursor.position.x,this.cursor.position.y)||void 0,this.hoveredUnit&&console.log(this.hoveredUnit.type.name+" has "+this.hoveredUnit.currentAmmo+" health, "+this.hoveredUnit.currentFuel+" fuel and "+this.hoveredUnit.currentAmmo+" ammo remaining.")),this.currentUIState.gridElements=Array.from(Array(32),function(t){return Array(32)}),this.objects=this.objects.sort(function(t,n){return t.position.z-n.position.z}),this.objects.forEach(function(n){var e=n.position,r=e.x,o=e.y;t.currentUIState.gridElements[o][r]=n.id}),this.objects=[]},t.prototype.getState=function(){return this.currentUIState},t.prototype.focus=function(t){this.focussedObject=t||this.cursor},t.prototype.select=function(t){t instanceof S&&this.showMovementRange(t)},t.prototype.showMovementRange=function(t){for(var n=t.type.movementRange,e=-n;e<=n;e++)for(var r=n-Math.abs(e),o=-r;o<=r;o++)t.gridPosX+o>=0&&t.gridPosY+e>=0&&this.objects.push(new _(this,t.gridPosX+o,t.gridPosY+e,1))},t.prototype.openUnitSelectMenu=function(t){console.log(t.type.name+" has "+t.currentFuel+" fuel left")},t}(),O=function(){function t(){}return t.prototype.getState=function(){},t.prototype.findUnitAt=function(t,n){},t}(),j=function(){return function(){}}();!function(t){t[t.infantary=0]="infantary",t[t.vehicle=1]="vehicle",t[t.helicopter=2]="helicopter",t[t.plane=3]="plane",t[t.ship=4]="ship",t[t.submarine=5]="submarine"}(o||(o={})),function(t){t[t.direct=0]="direct",t[t.indirect=1]="indirect"}(i||(i={})),function(t){t[t.capture=0]="capture",t[t.dive=1]="dive",t[t.load=2]="load",t[t.supply=3]="supply",t[t.unload=4]="unload",t[t.join=5]="join"}(a||(a={}));var M={id:4,name:"tank",cost:5e3,totalHealth:100,type:o.vehicle,visionRange:3,movementRange:5,maxFuel:80,maxAmmo:8,weapons:{primary:{name:"cannon",type:i.direct,baseDamage:70,efficacy:{infantary:1,vehicle:1,helicopter:1,plane:1,ship:1,submarine:1}}},abilities:[]},I=new j,A=function(){function t(){this.gameState={gameID:1,numberOfPlayers:1,players:[{id:0,player:I,money:1e3,color:"orange"}],terrain:{sizeX:5,sizeY:5,mapIdGrid:[[0,0,1,0,0,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1],[0,0,1,0,0,1,1,1,1,1,1,1,1,1,1],[0,0,1,0,0,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1],[0,0,1,0,0,1,1,1,1,1,1,1,1,1,1]]},units:[new S(M,0,2,2),new S(M,0,2,3),new S(M,0,4,2),new S(M,0,1,1)]},this.logicModel=new O}return t.prototype.getState=function(){return this.gameState},t.prototype.findUnitAt=function(t,n){return this.gameState.units.find(function(e){return e.gridPosX===t&&e.gridPosY===n})},t}(),U=function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(a,u)}s((r=r.apply(t,n||[])).next())})},C=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},E=function(){function t(){}return t.load=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return U(this,void 0,void 0,function(){var e=this;return C(this,function(r){return n.forEach(function(n){return U(e,void 0,void 0,function(){var e,r,o,i;return C(this,function(a){switch(a.label){case 0:return[4,t.addImageProcess(n.path)];case 1:for(o in e=a.sent(),r=t.getContext(e),n.data.sprites)(i=n.data.sprites[o]).imageData=t.getImageData(i,r);return[2]}})})}),[2]})})},t.getContext=function(n){var e=t.setupCanvas(n).getContext("2d");return e.drawImage(n,0,0),e},t.setupCanvas=function(t){var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n},t.addImageProcess=function(t){return new Promise(function(n,e){var r=new Image;r.onload=function(){return n(r)},r.onerror=function(t){return e(t)},r.src=t})},t.getImageData=function(t,n){var e=t.x,r=t.y,o=t.w,i=t.h,a=t.alpha;a&&(n.globalAlpha=a);var u=n.getImageData(e,r,o,i);return n.globalAlpha=1,u},t}(),R={path:"assets/terrain/spriteSheet.png",data:{type:"terrain",sprites:{0:{name:"sea",x:340,y:1567,w:16,h:16},1:{name:"grass",x:217,y:1567,w:16,h:16}}}},k={path:"assets/ui/UISprites.png",data:{type:"UI",sprites:{0:{name:"cursor",x:44,y:6,w:28,h:31,ax:-3,ay:-3},1:{name:"attack_overlay",x:7,y:10,w:16,h:16,ax:0,ay:0,alpha:.5}}}},D={path:"assets/units/unitSprites.png",data:{type:"units",sprites:{0:{name:"infantary_orange",x:24,y:4,w:14,h:15,ax:0,ay:1},4:{name:"tank_orange",x:96,y:6,w:13,h:13,ax:2,ay:1}}}},G=function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(a,u)}s((r=r.apply(t,n||[])).next())})},T=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},z=function(){function t(){this.logicModel=new A,this.uiModel=new P(this.logicModel),this.view=new v(this.logicModel,this.uiModel,{terrain:R,ui:k,units:D}),this.controller=new m(this.uiModel),this.performAsyncSetup()}return t.prototype.performAsyncSetup=function(){return G(this,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return[4,Promise.all([E.load(R,k,D)])];case 1:return t.sent(),this.runGame(),[2]}})})},t.prototype.runGame=function(){var t=this;setInterval(function(){t.view.render()},1e3/30)},t}();(new(function(){function t(){}return t.prototype.run=function(){new z},t}())).run()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVFbmdpbmUvdmlldy9zdWJyZW5kZXJlcnMvc3VicmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVFbmdpbmUvbW9kZWwvbG9naWNNb2RlbC91bml0L3VuaXREYXRhU3RydWN0dXJlLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL3ZpZXcvc3VicmVuZGVyZXJzL2JnUmVuZGVyZXIvYmdSZW5kZXJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUVuZ2luZS92aWV3L3N1YnJlbmRlcmVycy91aVJlbmRlcmVyL3VpUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVFbmdpbmUvdmlldy9zdWJyZW5kZXJlcnMvdW5pdFJlbmRlcmVyLnRzL3VuaXRSZW5kZXJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUVuZ2luZS92aWV3L2dhbWVTdGF0ZVBhcnNlci9nYW1lU3RhdGVQYXJzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVFbmdpbmUvdmlldy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL2NvbnRyb2xsZXIvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUVuZ2luZS9tb2RlbC91aU1vZGVsL3VpT2JqZWN0cy91aU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUVuZ2luZS9tb2RlbC91aU1vZGVsL3VpT2JqZWN0cy9jdXJzb3IvY3Vyc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL21vZGVsL3VpTW9kZWwvdWlPYmplY3RzL3JhbmdlSW5kaWNhdG9yL3JhbmdlSW5kaWNhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL21vZGVsL2xvZ2ljTW9kZWwvdW5pdC91bml0LnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL21vZGVsL3VpTW9kZWwvdWlNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUVuZ2luZS9tb2RlbC9sb2dpY01vZGVsL2xvZ2ljTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVFbmdpbmUvbW9kZWwvbG9naWNNb2RlbC9wbGF5ZXIvcGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdW5pdHMvdGFuay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUVuZ2luZS9tb2RlbC9sb2dpY01vZGVsL21lZGlhdG9yL21lZGlhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL3ZpZXcvc3VicmVuZGVyZXJzL2ltYWdlTG9hZGVyL2ltYWdlTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvdGVycmFpbi90ZXJyYWluc2hlZXREYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvdWkvdWlTaGVldERhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy91bml0cy91bml0c2hlZXREYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lRW5naW5lL2VuZ2luZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1bml0S2luZCIsIndlYXBvblR5cGUiLCJ1bml0QWJpbGl0eSIsIlN1YnJlbmRlcmVyIiwic3ByaXRlc2hlZXREYXRhIiwidGhpcyIsImNhbnZhcyIsInNldHVwQ2FudmFzIiwiY29udGV4dCIsImdldENvbnRleHQiLCJjYWNoZWRDYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcHJpdGVzIiwiZGF0YSIsInJlbmRlciIsInNjcmVlbk9iamVjdHMiLCJfdGhpcyIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZ3JpZEVsZW1lbnRzIiwiZm9yRWFjaCIsInJvdyIsInJvd051bWJlciIsImlkIiwiY29sTnVtYmVyIiwidW5kZWZpbmVkIiwic3ByaXRlIiwieCIsImF4IiwieSIsImF5IiwicHV0SW1hZ2VEYXRhIiwiaW1hZ2VEYXRhIiwibm9uR3JpZEVsZW1lbnRzIiwiZWxlbWVudCIsImNsb25lQ2FudmFzIiwib2xkQ2FudmFzIiwibmV3Q2FudmFzIiwiZHJhd0ltYWdlIiwiX3N1cGVyIiwiQmdSZW5kZXJlciIsIl9fZXh0ZW5kcyIsInN1YnJlbmRlcmVyIiwiVUlSZW5kZXJlciIsInVpUmVuZGVyZXJfZXh0ZW5kcyIsIlVuaXRSZW5kZXJlciIsInVuaXRSZW5kZXJlcl9leHRlbmRzIiwiR2FtZVN0YXRlUGFyc2VyIiwiZ2V0VGVycmFpblNjcmVlbk9iamVjdHMiLCJnYW1lU3RhdGUiLCJ0ZXJyYWluIiwibWFwSWRHcmlkIiwiZ2V0VW5pdHNTY3JlZW5PYmplY3RzIiwidW5pdHNBc0FycmF5IiwiQXJyYXkiLCJmaWxsIiwibWFwIiwidW5pdHMiLCJ1bml0IiwiZ3JpZFBvc1kiLCJncmlkUG9zWCIsInR5cGUiLCJWaWV3IiwibG9naWNNb2RlbCIsInVpTW9kZWwiLCJzcHJpdGVzaGVldHMiLCJtYWluQ2FudmFzIiwic2V0dXBNYWluQ2FudmFzIiwibWFpbkNvbnRleHQiLCJiZ1JlbmRlcmVyIiwidWlSZW5kZXJlciIsInVpIiwidW5pdFJlbmRlcmVyIiwiZ2V0R2FtZVN0YXRlIiwidGVycmFpblNjcmVlbk9iamVjdHMiLCJnYW1lU3RhdGVQYXJzZXIiLCJ1bml0c1NjcmVlbk9iamVjdHMiLCJfYSIsIl9fcmVhZCIsInJlbmRlckdhbWUiLCJ0ZXJyYWluQ2FudmFzIiwidW5pdENhbnZhcyIsInVpU3RhdGUiLCJnZXRVSVN0YXRlIiwidWlDYW52YXMiLCJyZW5kZXJVSSIsInBhaW50VG9NYWluQ2FudmFzIiwiY2FudmFzZXMiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuaXRTY3JlZW5PYmplY3RzIiwiY29uc29sZSIsImxvZyIsImdldFN0YXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJDb250cm9sbGVyIiwia2V5TWFwcGluZ3MiLCJ3IiwiYSIsIiAiLCJvbmtleXByZXNzIiwiaGFuZGxlS2V5UHJlc3MiLCJvbmtleXVwIiwiaGFuZGxlS2V5VXAiLCJlIiwiaW5wdXQiLCJ0b0xvd2VyQ2FzZSIsInNlbmQiLCJVSU9iamVjdCIsInoiLCJhcmdzIiwiaW5zdHJ1Y3Rpb25zIiwidXAiLCJkb3duIiwibGVmdCIsInJpZ2h0IiwiQSIsIkIiLCJMIiwiUiIsInN0YXJ0Iiwic2VsZWN0IiwicG9zaXRpb24iLCJpbml0Iiwic2VuZEluc3RydWN0aW9uIiwiaW5zdHJ1Y3Rpb24iLCJDdXJzb3IiLCJhcHBseSIsIm1vdmVVcCIsIm1vdmVEb3duIiwibW92ZUxlZnQiLCJtb3ZlUmlnaHQiLCJob3ZlcmVkVW5pdCIsImN1cnNvcl9leHRlbmRzIiwidWlPYmplY3QiLCJSYW5nZUluZGljYXRvciIsInJhbmdlSW5kaWNhdG9yX2V4dGVuZHMiLCJVbml0IiwidW5pdFR5cGUiLCJwbGF5ZXJJZCIsImxvYWRlZFVuaXRzIiwiaGlkZGVuIiwiY3VycmVudEhlYWx0aCIsInRvdGFsSGVhbHRoIiwiY3VycmVudEZ1ZWwiLCJtYXhGdWVsIiwiY3VycmVudEFtbW8iLCJtYXhBbW1vIiwiZGVzdHJveSIsImRhbWFnZSIsIlVJTW9kZWwiLCJjdXJyZW50VUlTdGF0ZSIsImZyb20iLCJvYmplY3RzIiwiY3Vyc29yIiwiZm9jdXMiLCJyZWZyZXNoU3RhdGUiLCJmb2N1c3NlZE9iamVjdCIsIlVJT2JqZWN0Q2xhc3MiLCJwb3MiLCJzZXR1cEZuIiwicHVzaCIsImZpbmRVbml0QXQiLCJzb3J0IiwiYiIsIm9iamVjdFRvU2VsZWN0IiwidW5pdF91bml0Iiwic2hvd01vdmVtZW50UmFuZ2UiLCJyYW5nZSIsIm1vdmVtZW50UmFuZ2UiLCJ2IiwiaCIsIk1hdGgiLCJhYnMiLCJqIiwicmFuZ2VJbmRpY2F0b3IiLCJvcGVuVW5pdFNlbGVjdE1lbnUiLCJMb2dpY01vZGVsIiwidW5pdHNfdGFuayIsImNvc3QiLCJ2ZWhpY2xlIiwidmlzaW9uUmFuZ2UiLCJ3ZWFwb25zIiwicHJpbWFyeSIsImRpcmVjdCIsImJhc2VEYW1hZ2UiLCJlZmZpY2FjeSIsImluZmFudGFyeSIsImhlbGljb3B0ZXIiLCJwbGFuZSIsInNoaXAiLCJzdWJtYXJpbmUiLCJhYmlsaXRpZXMiLCJteVBsYXllciIsInBsYXllciIsIk1lZGlhdG9yIiwiZ2FtZUlEIiwibnVtYmVyT2ZQbGF5ZXJzIiwicGxheWVycyIsIm1vbmV5IiwiY29sb3IiLCJzaXplWCIsInNpemVZIiwibG9naWNNb2RlbF9sb2dpY01vZGVsIiwiZmluZCIsIkltYWdlTG9hZGVyIiwibG9hZCIsInNwcml0ZXNoZWV0RGF0YUFycmF5IiwiX19hd2FpdGVyIiwiYWRkSW1hZ2VQcm9jZXNzIiwicGF0aCIsInNwcml0ZXNoZWV0Iiwic2VudCIsInRlbXBDb250ZXh0IiwiZ2V0SW1hZ2VEYXRhIiwiaW1hZ2UiLCJzcmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsImVyciIsImFscGhhIiwiZ2xvYmFsQWxwaGEiLCJ0ZXJyYWluX3RlcnJhaW5zaGVldERhdGEiLCIwIiwiMSIsInVpU2hlZXREYXRhIiwidW5pdHNfdW5pdHNoZWV0RGF0YSIsIjQiLCJFbmdpbmUiLCJtZWRpYXRvciIsInVpTW9kZWxfdWlNb2RlbCIsInZpZXciLCJjb250cm9sbGVyIiwicGVyZm9ybUFzeW5jU2V0dXAiLCJhbGwiLCJpbWFnZUxvYWRlciIsInJ1bkdhbWUiLCJzZXRJbnRlcnZhbCIsIkFwcCIsInJ1biIsImdhbWVFbmdpbmVfZW5naW5lIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFy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QUNULENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQzdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBR2pDTSxNQUFPLENBQ0wsSUFBSThHLEVBQUtZLEVBQU0sRUFBRyxFQUFHLEdBQ3JCLElBQUlaLEVBQUtZLEVBQU0sRUFBRyxFQUFHLEdBQ3JCLElBQUlaLEVB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Q3RDckIsS0FBTSwrQkFDTnZNLEtBQU0sQ0FDSmlELEtBQU0sUUFDTmxELFFBQVMsQ0FDUDBOLEVBQUcsQ0FDRGhRLEtBQU0sbUJBQ05zRCxFQUFHLEdBQ0hFLEVBQUcsRUFDSHFFLEVBQUcsR0FDSDBFLEVBQUcsR0FDSGhKLEdBQUksRUFDSkUsR0FBSSxHQUVOMk0sRUFBRyxDQUNEcFEsS0FBTSxjQUNOc0QsRUFBRyxHQUNIRSxFQUFHLEVBQ0hxRSxFQUFHLEdBQ0gwRSxFQUFHLEdBQ0hoSixHQUFJLEVBQ0pFLEdBQUksb3pDQ1haLFdBS0UsU0FBQTRNLElBRUV2TyxLQUFLNEQsV0FBYSxJQUFJNEssRUFDdEJ4TyxLQUFLNkQsUUFBVSxJQUFJNEssRUFBUXpPLEtBQUs0RCxZQUVoQzVELEtBQUswTyxLQUFPLElBQUlBLEVBQUsxTyxLQUFLNEQsV0FBWTVELEtBQUs2RCxRQUFTLENBQUNkLFFBQVNrTCxFQUFrQjdKLEdBQUlnSyxFQUFhOUssTUFBTytLLElBQ3hHck8sS0FBSzJPLFdBQWEsSUFBSUEsRUFBVzNPLEtBQUs2RCxTQUV0QzdELEtBQUs0TyxvQkFrQlQsT0FmUUwsRUFBQWhQLFVBQUFxUCxrQkFBTixtR0FHRSxTQUFNckIsUUFBUXNCLElBQUksQ0FDaEJDLEVBQVlsQyxLQUFLcUIsRUFBa0JHLEVBQWFDLG9CQURsRDNKLEVBQUF3SSxPQUlBbE4sS0FBSytPLG9CQUdQUixFQUFBaFAsVUFBQXdQLFFBQUEsZUFBQW5PLEVBQUFaLEtBQ0VnUCxZQUFZLFdBQ1ZwTyxFQUFLOE4sS0FBS2hPLFVBQ1QsSUFBTyxLQUVkNk4sRUEvQkEsSUNWZSxlQUFJLFNBQUFVLEtBSW5CLE9BSEVBLEVBQUExUCxVQUFBMlAsSUFBQSxXQUNpQixJQUFJQyxHQUV2QkYsRUFKZSxLQ0FYQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgSVNwcml0ZXNoZWV0RGF0YSBmcm9tICdzcmMvYXNzZXRzL0lTcHJpdGVzaGVldERhdGEnXG5pbXBvcnQgSVNjcmVlbk9iamVjdHMgZnJvbSAnLi4vLi4vbW9kZWwvSVNjcmVlbk9iamVjdHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWJyZW5kZXJlciB7XG4gIHNwcml0ZXM6IElTcHJpdGVzaGVldERhdGFbJ2RhdGEnXVsnc3ByaXRlcyddO1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIGNhY2hlZENhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3Ioc3ByaXRlc2hlZXREYXRhOiBJU3ByaXRlc2hlZXREYXRhKXtcbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMuc2V0dXBDYW52YXMoKVxuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICB0aGlzLmNhY2hlZENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgdGhpcy5zcHJpdGVzID0gc3ByaXRlc2hlZXREYXRhLmRhdGEuc3ByaXRlc1xuICB9XG5cbiAgcmVuZGVyKHNjcmVlbk9iamVjdHM/OiBJU2NyZWVuT2JqZWN0cyk6IEhUTUxDYW52YXNFbGVtZW50IHtcblxuICAgIC8vIFJldHVybiB0aGUgY2FjaGVkIGNhbnZhcyBpZiBubyBuZXcgc3RhdGUgaGFzIGJlZW4gZ2l2ZW5cbiAgICBpZiAoIXNjcmVlbk9iamVjdHMpIHJldHVybiB0aGlzLmNhY2hlZENhbnZhc1xuXG4gICAgLy8gQ2xlYXIgdGhlIGV4aXN0aW5nIGNhbnZhcyBjb250ZXh0IFxuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodClcblxuICAgIC8vIEN5Y2xlIHRocm91Z2ggdGhlIHN0YXRlJ3MgaWRHcmlkIGFuZCByZW5kZXIgZWFjaCBzcHJpdGUgdG8gdGhlIGNvbnRleHRcbiAgICAvLyBJcyB0aGlzIGZ1bmN0aW9uIHRvbyBuZXN0ZWQ/IFJlZmFjdG9yP1xuICAgIGlmIChzY3JlZW5PYmplY3RzLmdyaWRFbGVtZW50cykge1xuICAgICAgc2NyZWVuT2JqZWN0cy5ncmlkRWxlbWVudHMuZm9yRWFjaCgocm93LCByb3dOdW1iZXIpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGlkLCBjb2xOdW1iZXIpID0+IHtcbiAgICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnNwcml0ZXNbaWRdXG4gICAgICAgICAgICBjb25zdCB4ID0gY29sTnVtYmVyICogMTYgKyAoc3ByaXRlLmF4IHx8IDApIC8vIFRpbGUgd2lkdGggKGdldCBmcm9tIHdoZXJlPylcbiAgICAgICAgICAgIGNvbnN0IHkgPSByb3dOdW1iZXIgKiAxNiArIChzcHJpdGUuYXkgfHwgMClcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEoc3ByaXRlLmltYWdlRGF0YSwgeCArIDgsIHkgKyA4KSAvLyBUT0RPIFdIWSArIDggPz9cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKHNjcmVlbk9iamVjdHMubm9uR3JpZEVsZW1lbnRzKXtcbiAgICAgIHNjcmVlbk9iamVjdHMubm9uR3JpZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5zcHJpdGVzW2VsZW1lbnQuaWRdXG4gICAgICAgIGNvbnN0IHggPSBlbGVtZW50LnggKiAxNiArIChzcHJpdGUuYXggfHwgMCkgLy8gVGlsZSB3aWR0aCAoZ2V0IGZyb20gd2hlcmU/KVxuICAgICAgICBjb25zdCB5ID0gZWxlbWVudC55ICogMTYgKyAoc3ByaXRlLmF5IHx8IDApXG4gICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEoc3ByaXRlLmltYWdlRGF0YSwgeCArIDgsIHkgKyA4KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBDYWNoZSB0aGlzIGNhbnZhcyBmb3IgZnV0dXJlIHVzZVxuICAgIHRoaXMuY2FjaGVkQ2FudmFzID0gU3VicmVuZGVyZXIuY2xvbmVDYW52YXModGhpcy5jYW52YXMpXG5cbiAgICByZXR1cm4gdGhpcy5jYW52YXNcbiAgfVxuXG4gIHN0YXRpYyBjbG9uZUNhbnZhcyhvbGRDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgXG4gICAgLy9jcmVhdGUgYSBuZXcgY2FudmFzXG4gICAgdmFyIG5ld0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvL3NldCBkaW1lbnNpb25zXG4gICAgbmV3Q2FudmFzLndpZHRoID0gb2xkQ2FudmFzLndpZHRoO1xuICAgIG5ld0NhbnZhcy5oZWlnaHQgPSBvbGRDYW52YXMuaGVpZ2h0O1xuXG4gICAgLy9hcHBseSB0aGUgb2xkIGNhbnZhcyB0byB0aGUgbmV3IG9uZVxuICAgIGNvbnRleHQuZHJhd0ltYWdlKG9sZENhbnZhcywgMCwgMCk7XG5cbiAgICAvL3JldHVybiB0aGUgbmV3IGNhbnZhc1xuICAgIHJldHVybiBuZXdDYW52YXM7XG4gIH1cblxuICBwcml2YXRlIHNldHVwQ2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gNjAwOyAvLyBzZXQgZGltZW5zaW9ucyBpbiBjb25maWc/XG4gICAgY2FudmFzLndpZHRoID0gODAwO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cbn0iLCIvLyBtb3ZlIGV4cG9ydHMgdG8gc2VwYXJhdGUgZmlsZXM/XG5cbmV4cG9ydCBlbnVtIHVuaXRLaW5kIHtcbiAgJ2luZmFudGFyeScsXG4gICd2ZWhpY2xlJyxcbiAgJ2hlbGljb3B0ZXInLFxuICAncGxhbmUnLFxuICAnc2hpcCcsXG4gICdzdWJtYXJpbmUnLFxufVxuXG5leHBvcnQgZW51bSB3ZWFwb25UeXBlIHtcbiAgJ2RpcmVjdCcsXG4gICdpbmRpcmVjdCcsXG59XG5cbmV4cG9ydCBlbnVtIHVuaXRBYmlsaXR5IHtcbiAgJ2NhcHR1cmUnLFxuICAnZGl2ZScsXG4gICdsb2FkJyxcbiAgJ3N1cHBseScsXG4gICd1bmxvYWQnLFxuICAnam9pbicsIC8vID8gRG9lcyB0aGlzIGNvdW50PyBFdmVyeSB1bml0IGNhbiBqb2luLlxufVxuXG4vLyBTdGF0aWMgcHJvcGVydGllc1xuZXhwb3J0IGludGVyZmFjZSBJVW5pdCB7XG4gIGlkOiBudW1iZXIsXG4gIG5hbWU6IHN0cmluZyxcbiAgY29zdDogbnVtYmVyLFxuICB0b3RhbEhlYWx0aDogbnVtYmVyLFxuICB0eXBlOiB1bml0S2luZCxcbiAgdmlzaW9uUmFuZ2U6IG51bWJlcixcbiAgbW92ZW1lbnRSYW5nZTogbnVtYmVyLFxuICBtYXhGdWVsOiBudW1iZXIsXG4gIG1heEFtbW86IG51bWJlcixcbiAgd2VhcG9uczoge1xuICAgIHByaW1hcnk6IHtcbiAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgIHR5cGU6IHdlYXBvblR5cGUsXG4gICAgICByYW5nZT86IG51bWJlcixcbiAgICAgIGJhc2VEYW1hZ2U6IG51bWJlcixcbiAgICAgIGVmZmljYWN5OiB7XG4gICAgICAgIGluZmFudGFyeTogbnVtYmVyLFxuICAgICAgICB2ZWhpY2xlOiBudW1iZXIsXG4gICAgICAgIGhlbGljb3B0ZXI6IG51bWJlcixcbiAgICAgICAgcGxhbmU6IG51bWJlcixcbiAgICAgICAgc2hpcDogbnVtYmVyLFxuICAgICAgICBzdWJtYXJpbmU6IG51bWJlcixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBzZWNvbmRhcnk/OiB7XG4gICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICB0eXBlOiB3ZWFwb25UeXBlLFxuICAgICAgcmFuZ2U/OiBudW1iZXIsXG4gICAgICBiYXNlRGFtYWdlOiBudW1iZXIsXG4gICAgICBlZmZpY2FjeToge1xuICAgICAgICBpbmZhbnRhcnk6IG51bWJlcixcbiAgICAgICAgdmVoaWNsZTogbnVtYmVyLFxuICAgICAgICBoZWxpY29wdGVyOiBudW1iZXIsXG4gICAgICAgIHBsYW5lOiBudW1iZXIsXG4gICAgICAgIHNoaXA6IG51bWJlcixcbiAgICAgICAgc3VibWFyaW5lOiBudW1iZXIsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGNhcGFjaXR5PzogbnVtYmVyLFxuICBhYmlsaXRpZXM6IHVuaXRBYmlsaXR5W10sXG59XG4iLCJpbXBvcnQgU3VicmVuZGVyZXIgZnJvbSAnLi4vc3VicmVuZGVyZXInXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJnUmVuZGVyZXIgZXh0ZW5kcyBTdWJyZW5kZXJlciB7fSAvLyBBZGQgYW55IGJnIHNwZWNpZmljIHJlbmRlcmluZyIsImltcG9ydCBTdWJyZW5kZXJlciBmcm9tICcuLi9zdWJyZW5kZXJlcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlSZW5kZXJlciBleHRlbmRzIFN1YnJlbmRlcmVyIHtcbiAgLy8gUmVuZGVyIGFjY29yZGluZyB0byBVSSBsYXllcj8gaWUgei12YWx1ZVxufSAvLyBBZGQgYW55IFVJIHNwZWNpZmljIHJlbmRlcmluZ1xuIiwiaW1wb3J0IFN1YnJlbmRlcmVyIGZyb20gJy4uL3N1YnJlbmRlcmVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVbml0UmVuZGVyZXIgZXh0ZW5kcyBTdWJyZW5kZXJlciB7fSAvLyBBZGQgYW55IFVuaXQgc3BlY2lmaWMgcmVuZGVyaW5nXG4iLCJpbXBvcnQgSVNjcmVlbk9iamVjdHMgZnJvbSBcIi4uLy4uL21vZGVsL0lTY3JlZW5PYmplY3RzXCI7XG5pbXBvcnQgSUdhbWVTdGF0ZSBmcm9tIFwiLi4vLi4vbW9kZWwvbG9naWNNb2RlbC9JR2FtZVN0YXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTdGF0ZVBhcnNlciB7XG4gIHN0YXRpYyBnZXRUZXJyYWluU2NyZWVuT2JqZWN0cyAoZ2FtZVN0YXRlOiBJR2FtZVN0YXRlKTogSVNjcmVlbk9iamVjdHMge1xuICAgIHJldHVybiB7IGdyaWRFbGVtZW50czogZ2FtZVN0YXRlLnRlcnJhaW4ubWFwSWRHcmlkIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRVbml0c1NjcmVlbk9iamVjdHMgKGdhbWVTdGF0ZTogSUdhbWVTdGF0ZSk6IElTY3JlZW5PYmplY3RzIHtcbiAgICBjb25zdCB1bml0c0FzQXJyYXk6IG51bWJlcltdW10gPSBBcnJheSgzMikuZmlsbCh1bmRlZmluZWQpLm1hcCh4ID0+IEFycmF5KDMyKSlcbiAgICBnYW1lU3RhdGUudW5pdHMuZm9yRWFjaCgodW5pdCkgPT4ge1xuICAgICAgdW5pdHNBc0FycmF5W3VuaXQuZ3JpZFBvc1ldW3VuaXQuZ3JpZFBvc1hdID0gdW5pdC50eXBlLmlkXG4gICAgfSlcbiAgICByZXR1cm4geyBncmlkRWxlbWVudHM6IHVuaXRzQXNBcnJheSB9XG4gIH1cbn0iLCJpbXBvcnQgQmdSZW5kZXJlciBmcm9tICcuL3N1YnJlbmRlcmVycy9iZ1JlbmRlcmVyL2JnUmVuZGVyZXInXG5pbXBvcnQgVUlSZW5kZXJlciBmcm9tICcuL3N1YnJlbmRlcmVycy91aVJlbmRlcmVyL3VpUmVuZGVyZXInO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSAnLi4vbW9kZWwvdWlNb2RlbC91aU1vZGVsJztcbmltcG9ydCBMb2dpY01vZGVsIGZyb20gJy4uL21vZGVsL2xvZ2ljTW9kZWwvbG9naWNNb2RlbCc7XG5pbXBvcnQgSVNwcml0ZXNoZWV0RGF0YSBmcm9tICcuLi8uLi9hc3NldHMvSVNwcml0ZXNoZWV0RGF0YSc7XG5pbXBvcnQgVW5pdFJlbmRlcmVyIGZyb20gJy4vc3VicmVuZGVyZXJzL3VuaXRSZW5kZXJlci50cy91bml0UmVuZGVyZXInO1xuaW1wb3J0IEdhbWVTdGF0ZVBhcnNlciBmcm9tICcuL2dhbWVTdGF0ZVBhcnNlci9nYW1lU3RhdGVQYXJzZXInO1xuaW1wb3J0IElTY3JlZW5PYmplY3RzIGZyb20gJy4uL21vZGVsL0lTY3JlZW5PYmplY3RzJztcbi8vIGltcG9ydCBVbml0UmVuZGVyZXIgZnJvbSAnLi9zdWJyZW5kZXJlcnMvdW5pdFJlbmRlcmVyLnRzL3VuaXRSZW5kZXJlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XG4gIGJnUmVuZGVyZXI6IEJnUmVuZGVyZXI7XG4gIHVpUmVuZGVyZXI6IFVJUmVuZGVyZXI7XG4gIHVuaXRSZW5kZXJlcjogYW55O1xuICB1aU1vZGVsOiBVSU1vZGVsO1xuICBsb2dpY01vZGVsOiBMb2dpY01vZGVsO1xuICBtYWluQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgbWFpbkNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICBjb25zdHJ1Y3Rvcihsb2dpY01vZGVsOiBMb2dpY01vZGVsLCB1aU1vZGVsOlVJTW9kZWwsIHNwcml0ZXNoZWV0czp7W2tleTpzdHJpbmddOklTcHJpdGVzaGVldERhdGF9KSB7XG4gICAgdGhpcy5sb2dpY01vZGVsID0gbG9naWNNb2RlbFxuICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWxcblxuICAgIHRoaXMubWFpbkNhbnZhcyA9IHRoaXMuc2V0dXBNYWluQ2FudmFzKClcbiAgICB0aGlzLm1haW5Db250ZXh0ID0gdGhpcy5tYWluQ2FudmFzLmdldENvbnRleHQoJzJkJylcblxuICAgIHRoaXMuYmdSZW5kZXJlciA9IG5ldyBCZ1JlbmRlcmVyKHNwcml0ZXNoZWV0cy50ZXJyYWluKVxuICAgIHRoaXMudWlSZW5kZXJlciA9IG5ldyBVSVJlbmRlcmVyKHNwcml0ZXNoZWV0cy51aSlcbiAgICB0aGlzLnVuaXRSZW5kZXJlciA9IG5ldyBVbml0UmVuZGVyZXIoc3ByaXRlc2hlZXRzLnVuaXRzKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvLyBRdWVzdGlvbiAtIHRoZSB2YXJpYWJsZXMgZGVmaW5lZCBoZXJlIGFyZSBwdXJlbHkgZm9yIHJlYWRhYmlsaXR5LFxuICAgIC8vICB3b3VsZCBpdCBiZSBiZXR0ZXIgdG8gdXNlIGEgZnVuY3Rpb25hbCBzdHlsZSBoZXJlP1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHRoaXMuZ2V0R2FtZVN0YXRlKClcbiAgICBjb25zdCB0ZXJyYWluU2NyZWVuT2JqZWN0cyA9IEdhbWVTdGF0ZVBhcnNlci5nZXRUZXJyYWluU2NyZWVuT2JqZWN0cyhnYW1lU3RhdGUpXG4gICAgY29uc3QgdW5pdHNTY3JlZW5PYmplY3RzID0gR2FtZVN0YXRlUGFyc2VyLmdldFVuaXRzU2NyZWVuT2JqZWN0cyhnYW1lU3RhdGUpXG4gICAgY29uc3QgW3RlcnJhaW5DYW52YXMsIHVuaXRDYW52YXNdID0gdGhpcy5yZW5kZXJHYW1lKHRlcnJhaW5TY3JlZW5PYmplY3RzLCB1bml0c1NjcmVlbk9iamVjdHMpXG5cbiAgICBjb25zdCB1aVN0YXRlID0gdGhpcy5nZXRVSVN0YXRlKClcblxuICAgIC8vIFVuY29tbWVudCB3aGVuIFVJIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkXG4gICAgY29uc3QgdWlDYW52YXMgPSB0aGlzLnJlbmRlclVJKHVpU3RhdGUpXG4gICAgdGhpcy5wYWludFRvTWFpbkNhbnZhcyh0ZXJyYWluQ2FudmFzLCB1bml0Q2FudmFzLCB1aUNhbnZhcylcbiAgICAvLyB0aGlzLnBhaW50VG9NYWluQ2FudmFzKGdhbWVDYW52YXMpXG4gIH1cblxuICBwcml2YXRlIHBhaW50VG9NYWluQ2FudmFzKC4uLmNhbnZhc2VzOiBIVE1MQ2FudmFzRWxlbWVudFtdKXtcbiAgICB0aGlzLm1haW5Db250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLm1haW5DYW52YXMud2lkdGgsIHRoaXMubWFpbkNhbnZhcy5oZWlnaHQpXG4gICAgY2FudmFzZXMuZm9yRWFjaCgoY2FudmFzKSA9PiB7XG4gICAgICAvLyBUT0RPIElmIHlvdSBhcmUgd29uZGVyaW5nIHdoeSB0aGUgZWxlbWVudHMgYXJlIG9mZi1saW5lLCBzZWUgdG9kbyBpbiBTdWJyZW5kZXJlci5yZW5kZXJcbiAgICAgIHRoaXMubWFpbkNvbnRleHQuZHJhd0ltYWdlKGNhbnZhcywgMCwgMClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJHYW1lKHRlcnJhaW5TY3JlZW5PYmplY3RzOklTY3JlZW5PYmplY3RzLCB1bml0U2NyZWVuT2JqZWN0czogSVNjcmVlbk9iamVjdHMpOiBIVE1MQ2FudmFzRWxlbWVudFtde1xuICAgIHJldHVybiBbXG4gICAgICB0aGlzLmJnUmVuZGVyZXIucmVuZGVyKHRlcnJhaW5TY3JlZW5PYmplY3RzKSxcbiAgICAgIHRoaXMudW5pdFJlbmRlcmVyLnJlbmRlcih1bml0U2NyZWVuT2JqZWN0cylcbiAgICBdXG4gIH1cblxuICBwcml2YXRlIHJlbmRlclVJKHVpU3RhdGU6IElTY3JlZW5PYmplY3RzKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGNvbnNvbGUubG9nKHVpU3RhdGUpXG4gICAgcmV0dXJuIHRoaXMudWlSZW5kZXJlci5yZW5kZXIodWlTdGF0ZSlcbiAgfVxuXG4gIHByaXZhdGUgZ2V0R2FtZVN0YXRlKCl7XG4gICAgcmV0dXJuIHRoaXMubG9naWNNb2RlbC5nZXRTdGF0ZSgpXG4gIH1cblxuICBwcml2YXRlIGdldFVJU3RhdGUoKXtcbiAgICByZXR1cm4gdGhpcy51aU1vZGVsLmdldFN0YXRlKClcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBNYWluQ2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICBjb25zdCBjYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy5oZWlnaHQgPSA2MDA7IC8vIHNldCBkaW1lbnNpb25zIGluIGNvbmZpZz9cbiAgICBjYW52YXMud2lkdGggPSA4MDA7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxufSIsImltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9tb2RlbC91aU1vZGVsL3VpTW9kZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIHVpTW9kZWw6IFVJTW9kZWw7XG5cbiAga2V5TWFwcGluZ3M6IHtba2V5bmFtZTogc3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgICB3OiAndXAnLCAvLyB3XG4gICAgczogJ2Rvd24nLCAvLyBzXG4gICAgYTogJ2xlZnQnLCAvLyBhXG4gICAgZDogJ3JpZ2h0JywgLy8gZFxuICAgICcgJzogJ0EnLCAvLyBzcGFjZVxuICB9XG5cbiAgY29uc3RydWN0b3IodWlNb2RlbDogVUlNb2RlbCl7XG4gICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbFxuICAgIGRvY3VtZW50Lm9ua2V5cHJlc3MgPSB0aGlzLmhhbmRsZUtleVByZXNzLmJpbmQodGhpcylcbiAgICBkb2N1bWVudC5vbmtleXVwID0gdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpXG4gIH1cblxuICBoYW5kbGVLZXlQcmVzcyhlOiBLZXlib2FyZEV2ZW50KXtcbiAgICAvLyBUaGluayBvZiBhIHNvbHV0aW9uIHRvIGRlYWwgd2l0aCBtdWx0aXBsZSBrZXkgcHJlc3Nlcz8gKEVnLiBob2xkaW5nIEIgdG8gc2VlIHRoZSByYW5nZVxuICAgIC8vICBvZiB0aGUgdW5pdCwgYW5kIHVzaW5nIHRoZSBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlIGFyb3VuZCB0aGUgbWFwPylcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMua2V5TWFwcGluZ3NbZS5rZXkudG9Mb3dlckNhc2UoKV1cbiAgICBpZihpbnB1dCl7XG4gICAgICB0aGlzLnVpTW9kZWwuc2VuZChpbnB1dClcbiAgICB9XG4gIH1cblxuICBoYW5kbGVLZXlVcCgpe1xuICAgIHRoaXMudWlNb2RlbC5zZW5kKClcbiAgfVxufSIsImltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi91aU1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFVJT2JqZWN0IHtcbiAgdWlNb2RlbDogVUlNb2RlbFxuICBwb3NpdGlvbjoge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgejogbnVtYmVyLFxuICB9XG4gIG5hbWU6c3RyaW5nXG4gIGlkOiBudW1iZXJcblxuICBpbnN0cnVjdGlvbnM6IHtba2V5OnN0cmluZ106IEZ1bmN0aW9ufSA9IHtcbiAgICB1cDogKCkgPT4ge30sXG4gICAgZG93bjogKCkgPT4ge30sXG4gICAgbGVmdDogKCkgPT4ge30sXG4gICAgcmlnaHQ6ICgpID0+IHt9LFxuICAgIEE6ICgpID0+IHt9LFxuICAgIEI6ICgpID0+IHt9LFxuICAgIEw6ICgpID0+IHt9LFxuICAgIFI6ICgpID0+IHt9LFxuICAgIHN0YXJ0OiAoKSA9PiB7fSxcbiAgICBzZWxlY3Q6ICgpID0+IHt9LFxuICB9XG5cblxuICBjb25zdHJ1Y3Rvcih1aU1vZGVsOiBVSU1vZGVsLCB4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyLCAuLi5hcmdzOmFueSkge1xuICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWxcbiAgICB0aGlzLnBvc2l0aW9uID0geyB4LCB5LCB6IH1cbiAgICB0aGlzLmluaXQoYXJncylcbiAgfVxuXG4gIGluaXQoYXJnczogYW55W10pOiB2b2lkIHt9O1xuXG4gIHNlbmRJbnN0cnVjdGlvbihpbnN0cnVjdGlvbjpzdHJpbmcpIHtcbiAgICB0aGlzLmluc3RydWN0aW9uc1tpbnN0cnVjdGlvbl0oKVxuICB9XG59IiwiaW1wb3J0IFVJT2JqZWN0IGZyb20gXCIuLi91aU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXJzb3IgZXh0ZW5kcyBVSU9iamVjdCB7XG4gIC8vIGhhdmUgYSBsYXllciAoei12YWx1ZSkgYXNzb2NpYXRlZCB3aXRoIHVpT2JqZWN0cyBhbmQgcmVuZGVyIHRoZW0gaW4gb3JkZXI/XG4gIG5hbWU6IHN0cmluZyA9ICdjdXJzb3InXG4gIGlkOiBudW1iZXIgPSAwXG4gIGluc3RydWN0aW9uczoge1trZXk6c3RyaW5nXTogRnVuY3Rpb259ID0ge1xuICAgIHVwOiAoKSA9PiB7IHRoaXMubW92ZVVwKCkgfSxcbiAgICBkb3duOiAoKSA9PiB7IHRoaXMubW92ZURvd24oKSB9LFxuICAgIGxlZnQ6ICgpID0+IHsgdGhpcy5tb3ZlTGVmdCgpIH0sXG4gICAgcmlnaHQ6ICgpID0+IHsgdGhpcy5tb3ZlUmlnaHQoKSB9LFxuICAgIEE6ICgpID0+IHsgdGhpcy51aU1vZGVsLnNlbGVjdCh0aGlzLnVpTW9kZWwuaG92ZXJlZFVuaXQpIH0sXG4gICAgQjogKCkgPT4ge30sXG4gICAgTDogKCkgPT4ge30sXG4gICAgUjogKCkgPT4ge30sXG4gICAgc3RhcnQ6ICgpID0+IHt9LFxuICAgIHNlbGVjdDogKCkgPT4ge30sXG4gIH1cblxuICBtb3ZlVXAobjpudW1iZXIgPSAxKXtcbiAgICBpZiAodGhpcy5wb3NpdGlvbi55ID4gMCkgdGhpcy5wb3NpdGlvbi55IC09IG5cbiAgfVxuICBtb3ZlRG93bihuOm51bWJlciA9IDEpe1xuICAgIHRoaXMucG9zaXRpb24ueSArPSBuXG4gIH1cbiAgbW92ZUxlZnQobjpudW1iZXIgPSAxKXtcbiAgICBpZiAodGhpcy5wb3NpdGlvbi54ID4gMCkgdGhpcy5wb3NpdGlvbi54IC09IG5cbiAgfVxuICBtb3ZlUmlnaHQobjpudW1iZXIgPSAxKXtcbiAgICB0aGlzLnBvc2l0aW9uLnggKz0gblxuICB9XG59IiwiaW1wb3J0IFVJT2JqZWN0IGZyb20gXCIuLi91aU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZUluZGljYXRvciBleHRlbmRzIFVJT2JqZWN0IHtcbiAgaWQgPSAxXG59IiwiaW1wb3J0IHsgSVVuaXQgfSBmcm9tIFwiLi91bml0RGF0YVN0cnVjdHVyZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVbml0IHtcbiAgaWQ6IG51bWJlclxuICBwbGF5ZXJJZDogbnVtYmVyXG4gIHR5cGU6IElVbml0XG4gIGdyaWRQb3NYOiBudW1iZXJcbiAgZ3JpZFBvc1k6IG51bWJlclxuICBjdXJyZW50SGVhbHRoOiBudW1iZXJcbiAgY3VycmVudEZ1ZWw6IG51bWJlclxuICBjdXJyZW50QW1tbzogbnVtYmVyXG4gIGxvYWRlZFVuaXRzOiBVbml0W10gPSBbXVxuICBoaWRkZW46IGJvb2xlYW4gPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKHVuaXRUeXBlOiBJVW5pdCwgcGxheWVySWQ6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIC8vIHRoaXMuaWQgPSBzb21lU3RhdGljSURHZW5lcmF0aW9uTWV0aG9kKClcbiAgICB0aGlzLnR5cGUgPSB1bml0VHlwZVxuICAgIHRoaXMucGxheWVySWQgPSBwbGF5ZXJJZFxuICAgIHRoaXMuZ3JpZFBvc1ggPSB4XG4gICAgdGhpcy5ncmlkUG9zWSA9IHlcblxuICAgIHRoaXMuY3VycmVudEhlYWx0aCA9IHVuaXRUeXBlLnRvdGFsSGVhbHRoXG4gICAgdGhpcy5jdXJyZW50RnVlbCA9IHVuaXRUeXBlLm1heEZ1ZWxcbiAgICB0aGlzLmN1cnJlbnRBbW1vID0gdW5pdFR5cGUubWF4QW1tb1xuICB9XG4gIFxuICAvLyBPciBzb21lIG1ldGhvZCBsaWtlIHRoaXM/XG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMuZ3JpZFBvc1ggPSB0aGlzLmdyaWRQb3NZID0gdGhpcy5jdXJyZW50QW1tbyA9IFxuICAgIHRoaXMuY3VycmVudEZ1ZWwgPSB0aGlzLmN1cnJlbnRIZWFsdGggPSAtMVxuICB9XG5cbiAgZGFtYWdlIChuOiBudW1iZXIpIHtcbiAgICB0aGlzLmN1cnJlbnRIZWFsdGggLT0gblxuICAgIGlmICh0aGlzLmN1cnJlbnRIZWFsdGggPCAwKSB0aGlzLmRlc3Ryb3koKVxuICB9XG59IiwiaW1wb3J0IExvZ2ljTW9kZWwgZnJvbSBcIi4uL2xvZ2ljTW9kZWwvbG9naWNNb2RlbFwiO1xuaW1wb3J0IFVJT2JqZWN0IGZyb20gXCIuL3VpT2JqZWN0cy91aU9iamVjdFwiO1xuaW1wb3J0IEN1cnNvciBmcm9tIFwiLi91aU9iamVjdHMvY3Vyc29yL2N1cnNvclwiO1xuaW1wb3J0IFJhbmdlSW5kaWNhdG9yIGZyb20gXCIuL3VpT2JqZWN0cy9yYW5nZUluZGljYXRvci9yYW5nZUluZGljYXRvclwiO1xuaW1wb3J0IElTY3JlZW5PYmplY3RzIGZyb20gXCIuLi9JU2NyZWVuT2JqZWN0c1wiO1xuaW1wb3J0IElHYW1lU3RhdGUgZnJvbSBcIi4uL2xvZ2ljTW9kZWwvSUdhbWVTdGF0ZVwiO1xuaW1wb3J0IFVuaXQgZnJvbSBcIi4uL2xvZ2ljTW9kZWwvdW5pdC91bml0XCI7XG5cbi8vIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIG1hbmlwdWxhdGluZyB0aGUgVUkgc3RhdGUuIE1vdmluZyBjdXJzb3IgYXJvdW5kLFxuLy8gIHNlbGVjdGluZyB1bml0cywgY2hlY2tpbmcgdW5pdHMgZXRjLlxuXG4vLyBUaGlzIGNvZGUgaXMgYmFkLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNb2RlbHtcbiAgLy8gVE9ETyBXaGVyZSBkbyB3ZSBnZXQgdGhlIGdyaWQgc2l6ZSBmcm9tP1xuICBjdXJyZW50VUlTdGF0ZTogSVNjcmVlbk9iamVjdHMgPSB7IGdyaWRFbGVtZW50czogQXJyYXkuZnJvbShBcnJheSgzMiksIHggPT4gQXJyYXkoMzIpKX1cbiAgZ2FtZVN0YXRlOiBJR2FtZVN0YXRlXG4gIGZvY3Vzc2VkT2JqZWN0OiBVSU9iamVjdDtcbiAgb2JqZWN0czogVUlPYmplY3RbXSA9IFtdO1xuICBjdXJzb3I6IFVJT2JqZWN0O1xuICBsb2dpY01vZGVsOiBMb2dpY01vZGVsO1xuICBob3ZlcmVkVW5pdDogaW1wb3J0KFwiL1VzZXJzL2pvaG5mb3JzdGVyL1JlcG9zL2F3anMvc3JjL2dhbWVFbmdpbmUvbW9kZWwvbG9naWNNb2RlbC91bml0L3VuaXRcIikuZGVmYXVsdDtcblxuICBjb25zdHJ1Y3RvciAobG9naWNNb2RlbDpMb2dpY01vZGVsKXtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVJIE1vZGVsIGNyZWF0ZWQnKVxuICAgIHRoaXMubG9naWNNb2RlbCA9IGxvZ2ljTW9kZWxcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IGxvZ2ljTW9kZWwuZ2V0U3RhdGUoKVxuICAgIHRoaXMuY3Vyc29yID0gdGhpcy5jcmVhdGUoQ3Vyc29yLCB7eDogMCwgeTogMCwgejogMH0pXG4gICAgdGhpcy5mb2N1cyh0aGlzLmN1cnNvcilcbiAgICB0aGlzLnJlZnJlc2hTdGF0ZSgpXG4gIH1cblxuICBzZW5kIChpbnN0cnVjdGlvbj86c3RyaW5nKXtcblxuICAgIGlmIChpbnN0cnVjdGlvbikgdGhpcy5mb2N1c3NlZE9iamVjdC5zZW5kSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pXG4gICAgLy8gY29uc3Qge3gsIHl9ID0gdGhpcy5mb2N1c3NlZE9iamVjdC5wb3NpdGlvblxuICAgIHRoaXMucmVmcmVzaFN0YXRlKClcbiAgICAvLyB0aGlzLmN1cnJlbnRVSVN0YXRlLmdyaWRFbGVtZW50c1t5XVt4XSA9IHRoaXMuc2VsZWN0ZWRPYmplY3QuaWQgLy8gQXdmdWwgY29kZVxuICB9XG5cbiAgY3JlYXRlIDxUIGV4dGVuZHMgVUlPYmplY3Q+IChVSU9iamVjdENsYXNzOiB7IG5ldyh1aU1vZGVsOiBVSU1vZGVsLCB4Om51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyLCAuLi5hcmdzOmFueSk6IFQgfSwgcG9zOiB7IHg6IG51bWJlciwgeTpudW1iZXIsIHo6bnVtYmVyIH0sIHNldHVwRm4/OiBGdW5jdGlvbil7XG4gICAgY29uc3Qge3gsIHksIHp9ID0gcG9zXG4gICAgY29uc3Qgb2JqZWN0ID0gbmV3IFVJT2JqZWN0Q2xhc3ModGhpcywgeCwgeSwgeilcbiAgICBpZiAoc2V0dXBGbikgc2V0dXBGbihvYmplY3QpIC8vIFByb2JhYmx5IGEgYmV0dGVyIHdheSBvZiBkb2luZyB0aGlzXG4gICAgdGhpcy5vYmplY3RzLnB1c2gob2JqZWN0KVxuICAgIHJldHVybiBvYmplY3RcbiAgfVxuXG4gIHJlZnJlc2hTdGF0ZSAoKSB7XG4gICAgaWYgKHRoaXMuZm9jdXNzZWRPYmplY3QgPT09IHRoaXMuY3Vyc29yKSB7XG4gICAgICB0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnNvcilcbiAgICAgIHRoaXMuaG92ZXJlZFVuaXQgPSB0aGlzLmxvZ2ljTW9kZWwuZmluZFVuaXRBdCh0aGlzLmN1cnNvci5wb3NpdGlvbi54LCB0aGlzLmN1cnNvci5wb3NpdGlvbi55KSB8fCB1bmRlZmluZWRcbiAgICAgIGlmICh0aGlzLmhvdmVyZWRVbml0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaG92ZXJlZFVuaXQudHlwZS5uYW1lfSBoYXMgJHt0aGlzLmhvdmVyZWRVbml0LmN1cnJlbnRBbW1vfSBoZWFsdGgsICR7dGhpcy5ob3ZlcmVkVW5pdC5jdXJyZW50RnVlbH0gZnVlbCBhbmQgJHt0aGlzLmhvdmVyZWRVbml0LmN1cnJlbnRBbW1vfSBhbW1vIHJlbWFpbmluZy5gKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRVSVN0YXRlLmdyaWRFbGVtZW50cyA9IEFycmF5LmZyb20oQXJyYXkoMzIpLCB4ID0+IEFycmF5KDMyKSlcblxuXG4gICAgdGhpcy5vYmplY3RzID0gdGhpcy5vYmplY3RzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLnBvc2l0aW9uLnogLSBiLnBvc2l0aW9uLnpcbiAgICB9KVxuICAgIC8vIENvbnZlcnRzIG9iamVjdHMgaW50byBhIGdyaWRcbiAgICB0aGlzLm9iamVjdHMuZm9yRWFjaCgodWlPYmplY3QpID0+IHtcbiAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdWlPYmplY3QucG9zaXRpb25cbiAgICAgIC8vIENoZWNrIGlmIGF0IGludGVnZXIgcG9zaXRpb24sIGFuZCByZW5kZXIgdG8gc3RhdGUgZGlmZmVyZW50bHk/IChTZWUgSVN0YXRlIGludGVyZmFjZSlcbiAgICAgIHRoaXMuY3VycmVudFVJU3RhdGUuZ3JpZEVsZW1lbnRzW3ldW3hdID0gdWlPYmplY3QuaWRcbiAgICB9KVxuICAgIHRoaXMub2JqZWN0cyA9IFtdXG4gIH1cblxuICBnZXRTdGF0ZSAoKTpJU2NyZWVuT2JqZWN0cyB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFVJU3RhdGVcbiAgfVxuXG4gIGZvY3VzIDxUIGV4dGVuZHMgVUlPYmplY3Q+KHVpT2JqZWN0PzogVCkge1xuICAgIHRoaXMuZm9jdXNzZWRPYmplY3QgPSB1aU9iamVjdCA/IHVpT2JqZWN0IDogdGhpcy5jdXJzb3JcbiAgfVxuXG4gIHNlbGVjdChvYmplY3RUb1NlbGVjdDogYW55KXtcbiAgICBpZiAob2JqZWN0VG9TZWxlY3QgaW5zdGFuY2VvZiBVbml0KSB0aGlzLnNob3dNb3ZlbWVudFJhbmdlKG9iamVjdFRvU2VsZWN0KVxuICB9XG5cbiAgc2hvd01vdmVtZW50UmFuZ2UodW5pdDogVW5pdCl7XG4gICAgY29uc3QgcmFuZ2UgPSB1bml0LnR5cGUubW92ZW1lbnRSYW5nZVxuICAgIGZvciAobGV0IHY6bnVtYmVyID0gLXJhbmdlOyB2IDw9IHJhbmdlOyB2KysgKSB7XG4gICAgICBjb25zdCBoID0gcmFuZ2UgLSBNYXRoLmFicyh2KVxuICAgICAgZm9yIChsZXQgajpudW1iZXIgPSAtaDsgaiA8PSBoOyBqKyspe1xuICAgICAgICBpZiAodW5pdC5ncmlkUG9zWCArIGogPj0gMCAmJiB1bml0LmdyaWRQb3NZICsgdiA+PSAwKXtcbiAgICAgICAgICB0aGlzLm9iamVjdHMucHVzaChuZXcgUmFuZ2VJbmRpY2F0b3IodGhpcywgdW5pdC5ncmlkUG9zWCArIGosIHVuaXQuZ3JpZFBvc1kgKyB2LCAxKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9wZW5Vbml0U2VsZWN0TWVudSh1bml0OiBVbml0KXtcbiAgICBjb25zb2xlLmxvZyhgJHt1bml0LnR5cGUubmFtZX0gaGFzICR7dW5pdC5jdXJyZW50RnVlbH0gZnVlbCBsZWZ0YClcbiAgfVxufSIsImltcG9ydCBJR2FtZVN0YXRlIGZyb20gXCIuL0lHYW1lU3RhdGVcIjtcbmltcG9ydCBVbml0IGZyb20gXCIuL3VuaXQvdW5pdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpY01vZGVse1xuICBnZXRTdGF0ZSgpOklHYW1lU3RhdGV7cmV0dXJufVxuICBmaW5kVW5pdEF0KHg6bnVtYmVyLCB5Om51bWJlcik6VW5pdHtyZXR1cm59XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIHt9IiwiaW1wb3J0IHsgSVVuaXQsIHVuaXRLaW5kLCB3ZWFwb25UeXBlIH0gZnJvbSBcIi4uLy4uL2dhbWVFbmdpbmUvbW9kZWwvbG9naWNNb2RlbC91bml0L3VuaXREYXRhU3RydWN0dXJlXCI7XG5cbmNvbnN0IHRhbms6IElVbml0ID0ge1xuICBpZDogNCxcbiAgbmFtZTogJ3RhbmsnLFxuICBjb3N0OiA1MDAwLFxuICB0b3RhbEhlYWx0aDogMTAwLFxuICB0eXBlOiB1bml0S2luZC52ZWhpY2xlLFxuICB2aXNpb25SYW5nZTogMyxcbiAgbW92ZW1lbnRSYW5nZTogNSxcbiAgbWF4RnVlbDogODAsXG4gIG1heEFtbW86IDgsXG4gIHdlYXBvbnM6IHtcbiAgICBwcmltYXJ5OiB7XG4gICAgICBuYW1lOiAnY2Fubm9uJyxcbiAgICAgIHR5cGU6IHdlYXBvblR5cGUuZGlyZWN0LFxuICAgICAgYmFzZURhbWFnZTogNzAsXG4gICAgICBlZmZpY2FjeToge1xuICAgICAgICBpbmZhbnRhcnk6IDEsXG4gICAgICAgIHZlaGljbGU6IDEsXG4gICAgICAgIGhlbGljb3B0ZXI6IDEsXG4gICAgICAgIHBsYW5lOiAxLFxuICAgICAgICBzaGlwOiAxLFxuICAgICAgICBzdWJtYXJpbmU6IDEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgLy8gTWFjaGluZSBndW4gZ29lcyBoZXJlXG4gICAgLy8gc2Vjb25kYXJ5Pzoge1xuICAgIC8vICAgbmFtZTogc3RyaW5nLFxuICAgIC8vICAgdHlwZTogd2VhcG9uVHlwZSxcbiAgICAvLyAgIHJhbmdlPzogbnVtYmVyLFxuICAgIC8vICAgYmFzZURhbWFnZTogbnVtYmVyLFxuICAgIC8vICAgZWZmaWNhY3k6IHtcbiAgICAvLyAgICAgaW5mYW50YXJ5OiBudW1iZXIsXG4gICAgLy8gICAgIHZlaGljbGU6IG51bWJlcixcbiAgICAvLyAgICAgaGVsaWNvcHRlcjogbnVtYmVyLFxuICAgIC8vICAgICBwbGFuZTogbnVtYmVyLFxuICAgIC8vICAgICBzaGlwOiBudW1iZXIsXG4gICAgLy8gICAgIHN1Ym1hcmluZTogbnVtYmVyLFxuICAgIC8vICAgfSxcbiAgICAvLyB9LFxuICB9LFxuICBhYmlsaXRpZXM6IFtdLFxufVxuXG5leHBvcnQgZGVmYXVsdCB0YW5rIiwiaW1wb3J0IExvZ2ljTW9kZWwgZnJvbSAnLi4vbG9naWNNb2RlbCdcbmltcG9ydCBJR2FtZVN0YXRlIGZyb20gJy4uL0lHYW1lU3RhdGUnO1xuXG5pbXBvcnQgUGxheWVyIGZyb20gJy4uL3BsYXllci9wbGF5ZXInO1xuaW1wb3J0IFVuaXQgZnJvbSAnLi4vdW5pdC91bml0JztcbmltcG9ydCB0YW5rIGZyb20gJy4uLy4uLy4uLy4uL3Jlc291cmNlcy91bml0cy90YW5rJztcblxuY29uc3QgbXlQbGF5ZXIgPSBuZXcgUGxheWVyKClcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWF0b3IgaW1wbGVtZW50cyBMb2dpY01vZGVsIHtcbiAgbG9naWNNb2RlbDogTG9naWNNb2RlbDtcbiAgZ2FtZVN0YXRlOiBJR2FtZVN0YXRlID0ge1xuICAgIGdhbWVJRDogMSxcbiAgICBudW1iZXJPZlBsYXllcnM6IDEsXG4gICAgcGxheWVyczogW3tcbiAgICAgIGlkOiAwLFxuICAgICAgcGxheWVyOiBteVBsYXllciwgLy8gY2xhc3NcbiAgICAgIG1vbmV5OiAxMDAwLFxuICAgICAgY29sb3I6ICdvcmFuZ2UnLCAvLyBlbnVtXG4gICAgfV0sXG4gICAgdGVycmFpbjoge1xuICAgICAgc2l6ZVg6IDUsIC8vIG1pZ2h0IGJlIHVubmVjZXNzYXJ5IGFzIGNhbiBiZSBnb3QgZnJvbSBtYXBJZEdyaWRbMF0ubGVuZ3RoXG4gICAgICBzaXplWTogNSxcbiAgICAgIG1hcElkR3JpZDogW1xuICAgICAgICBbMCwwLDEsMCwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwxLDEsMSwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwxLDEsMSwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwwLDEsMCwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwwLDEsMCwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwxLDEsMSwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwxLDEsMSwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwwLDEsMCwwLDEsMSwxLDEsMSwxLDEsMSwxLDFdLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHVuaXRzOiBbXG4gICAgICBuZXcgVW5pdCh0YW5rLCAwLCAyLCAyKSwgXG4gICAgICBuZXcgVW5pdCh0YW5rLCAwLCAyLCAzKSwgXG4gICAgICBuZXcgVW5pdCh0YW5rLCAwLCA0LCAyKSxcbiAgICAgIG5ldyBVbml0KHRhbmssIDAsIDEsIDEpLFxuICAgIF1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5sb2dpY01vZGVsID0gbmV3IExvZ2ljTW9kZWxcblxuICB9XG5cbiAgZ2V0U3RhdGUoKTogSUdhbWVTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZVN0YXRlXG4gIH1cblxuICBmaW5kVW5pdEF0KHg6IG51bWJlciwgeTpudW1iZXIpOiBVbml0IHtcbiAgICByZXR1cm4gdGhpcy5nYW1lU3RhdGUudW5pdHMuZmluZCgodW5pdCkgPT4ge1xuICAgICAgcmV0dXJuICh1bml0LmdyaWRQb3NYID09PSB4ICYmIHVuaXQuZ3JpZFBvc1kgPT09IHkpXG4gICAgfSlcbiAgfVxufSIsImltcG9ydCBJU3ByaXRlc2hlZXREYXRhIGZyb20gJ3NyYy9hc3NldHMvSVNwcml0ZXNoZWV0RGF0YSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VMb2FkZXIge1xuICBzdGF0aWMgYXN5bmMgbG9hZCguLi5zcHJpdGVzaGVldERhdGFBcnJheTogSVNwcml0ZXNoZWV0RGF0YVtdKSB7XG4gICAgc3ByaXRlc2hlZXREYXRhQXJyYXkuZm9yRWFjaChhc3luYyAoc3ByaXRlc2hlZXREYXRhKSA9PiB7XG4gICAgICBjb25zdCBzcHJpdGVzaGVldCA9IDxIVE1MSW1hZ2VFbGVtZW50PiBhd2FpdCBJbWFnZUxvYWRlci5hZGRJbWFnZVByb2Nlc3Moc3ByaXRlc2hlZXREYXRhLnBhdGgpXG4gICAgICBjb25zdCB0ZW1wQ29udGV4dCA9IEltYWdlTG9hZGVyLmdldENvbnRleHQoc3ByaXRlc2hlZXQpXG4gICAgICBmb3IgKGxldCBpZCBpbiBzcHJpdGVzaGVldERhdGEuZGF0YS5zcHJpdGVzKSB7XG4gICAgICAgIGxldCBzcHJpdGUgPSBzcHJpdGVzaGVldERhdGEuZGF0YS5zcHJpdGVzW2lkXVxuICAgICAgICBzcHJpdGUuaW1hZ2VEYXRhID0gSW1hZ2VMb2FkZXIuZ2V0SW1hZ2VEYXRhKHNwcml0ZSwgdGVtcENvbnRleHQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBnZXRDb250ZXh0KGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KXtcbiAgICBjb25zdCBjYW52YXMgPSBJbWFnZUxvYWRlci5zZXR1cENhbnZhcyhpbWFnZSlcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApXG4gICAgcmV0dXJuIGNvbnRleHRcbiAgfVxuXG4gIHN0YXRpYyBzZXR1cENhbnZhcyhpbWFnZTpIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgY29uc3QgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgIHJldHVybiBjYW52YXNcbiAgfVxuXG4gIHN0YXRpYyBhZGRJbWFnZVByb2Nlc3Moc3JjOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW1nOkhUTUxJbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7XG4gICAgICBpbWcub25lcnJvciA9IChlcnIpID0+IHJlamVjdChlcnIpO1xuICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbWFnZURhdGEgKHNwcml0ZTogSVNwcml0ZXNoZWV0RGF0YVsnZGF0YSddWydzcHJpdGVzJ11bMF0sIGNvbnRleHQ6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTpJbWFnZURhdGEge1xuICAgIGNvbnN0IHt4LCB5LCB3LCBoLCBhbHBoYX0gPSBzcHJpdGVcbiAgICBpZiAoYWxwaGEpIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYVxuICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKHgsIHksIHcsIGgpXG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDFcbiAgICByZXR1cm4gaW1hZ2VEYXRhXG4gIH1cbn0iLCJpbXBvcnQgSVNwcml0ZXNoZWV0RGF0YSBmcm9tICcuLi9JU3ByaXRlc2hlZXREYXRhJ1xuXG5jb25zdCB0ZXJyYWluc2hlZXREYXRhOiBJU3ByaXRlc2hlZXREYXRhID0ge1xuICBwYXRoOiAnYXNzZXRzL3RlcnJhaW4vc3ByaXRlU2hlZXQucG5nJyxcbiAgZGF0YToge1xuICAgIHR5cGU6ICd0ZXJyYWluJyxcbiAgICBzcHJpdGVzOiB7XG4gICAgICAwOiB7XG4gICAgICAgIG5hbWU6ICdzZWEnLFxuICAgICAgICB4OiAzNDAsXG4gICAgICAgIHk6IDE1NjcsXG4gICAgICAgIHc6IDE2LFxuICAgICAgICBoOiAxNlxuICAgICAgfSxcbiAgICAgIDE6IHtcbiAgICAgICAgbmFtZTogJ2dyYXNzJyxcbiAgICAgICAgeDogMjE3LCBcbiAgICAgICAgeTogMTU2NywgXG4gICAgICAgIHc6IDE2LCBcbiAgICAgICAgaDogMTYsIFxuICAgICAgfSxcbiAgICAgIC8vIGV0Yy4gZXRjLlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB0ZXJyYWluc2hlZXREYXRhIiwiaW1wb3J0IElTcHJpdGVzaGVldERhdGEgZnJvbSAnLi4vSVNwcml0ZXNoZWV0RGF0YSdcbi8vIFN0b3JlIHRoZXNlIGZpbGVzIGluIGFzc2V0cyB3aXRoIHRoZWlyIGltYWdlcz9cbmNvbnN0IHVpc2hlZXREYXRhOiBJU3ByaXRlc2hlZXREYXRhICA9IHtcbiAgcGF0aDogJ2Fzc2V0cy91aS9VSVNwcml0ZXMucG5nJyxcbiAgZGF0YToge1xuICAgIHR5cGU6ICdVSScsXG4gICAgc3ByaXRlczoge1xuICAgICAgMDoge1xuICAgICAgICBuYW1lOiAnY3Vyc29yJyxcbiAgICAgICAgeDogNDQsXG4gICAgICAgIHk6IDYsXG4gICAgICAgIHc6IDI4LFxuICAgICAgICBoOiAzMSxcbiAgICAgICAgYXg6IC0zLFxuICAgICAgICBheTogLTMsXG4gICAgICB9LFxuICAgICAgMToge1xuICAgICAgICBuYW1lOiAnYXR0YWNrX292ZXJsYXknLFxuICAgICAgICB4OiA3LFxuICAgICAgICB5OiAxMCxcbiAgICAgICAgdzogMTYsXG4gICAgICAgIGg6IDE2LFxuICAgICAgICBheDogMCxcbiAgICAgICAgYXk6IDAsXG4gICAgICAgIGFscGhhOiAwLjUsXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVpc2hlZXREYXRhIiwiaW1wb3J0IElTcHJpdGVzaGVldERhdGEgZnJvbSAnLi4vSVNwcml0ZXNoZWV0RGF0YSdcbi8vIFN0b3JlIHRoZXNlIGZpbGVzIGluIGFzc2V0cyB3aXRoIHRoZWlyIGltYWdlcz9cbmNvbnN0IHVuaXRzaGVldERhdGE6IElTcHJpdGVzaGVldERhdGEgPSB7XG4gIHBhdGg6ICdhc3NldHMvdW5pdHMvdW5pdFNwcml0ZXMucG5nJyxcbiAgZGF0YToge1xuICAgIHR5cGU6ICd1bml0cycsXG4gICAgc3ByaXRlczoge1xuICAgICAgMDoge1xuICAgICAgICBuYW1lOiAnaW5mYW50YXJ5X29yYW5nZScsXG4gICAgICAgIHg6IDI0LFxuICAgICAgICB5OiA0LFxuICAgICAgICB3OiAxNCxcbiAgICAgICAgaDogMTUsXG4gICAgICAgIGF4OiAwLFxuICAgICAgICBheTogMSxcbiAgICAgIH0sXG4gICAgICA0OiB7XG4gICAgICAgIG5hbWU6ICd0YW5rX29yYW5nZScsXG4gICAgICAgIHg6IDk2LFxuICAgICAgICB5OiA2LFxuICAgICAgICB3OiAxMyxcbiAgICAgICAgaDogMTMsXG4gICAgICAgIGF4OiAyLFxuICAgICAgICBheTogMSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVuaXRzaGVldERhdGEiLCJpbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcvdmlldydcbmltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlci9jb250cm9sbGVyJ1xuaW1wb3J0IFVJTW9kZWwgZnJvbSAnLi9tb2RlbC91aU1vZGVsL3VpTW9kZWwnXG5pbXBvcnQgTWVkaWF0b3IgZnJvbSAnLi9tb2RlbC9sb2dpY01vZGVsL21lZGlhdG9yL21lZGlhdG9yJ1xuaW1wb3J0IEltYWdlTG9hZGVyIGZyb20gJy4vdmlldy9zdWJyZW5kZXJlcnMvaW1hZ2VMb2FkZXIvaW1hZ2VMb2FkZXInO1xuaW1wb3J0IExvZ2ljTW9kZWwgZnJvbSAnLi9tb2RlbC9sb2dpY01vZGVsL2xvZ2ljTW9kZWwnO1xuXG4vLyBMb2FkIHNwcml0ZXNoZWV0RGF0YSBieSBjb25maWc/XG5pbXBvcnQgdGVycmFpbnNoZWV0RGF0YSBmcm9tICcuLi9hc3NldHMvdGVycmFpbi90ZXJyYWluc2hlZXREYXRhJ1xuaW1wb3J0IHVpc2hlZXREYXRhIGZyb20gJy4uL2Fzc2V0cy91aS91aVNoZWV0RGF0YSdcbmltcG9ydCB1bml0c2hlZXREYXRhIGZyb20gJy4uL2Fzc2V0cy91bml0cy91bml0c2hlZXREYXRhJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmdpbmUge1xuICB2aWV3OiBWaWV3O1xuICBjb250cm9sbGVyOiBDb250cm9sbGVyO1xuICB1aU1vZGVsOiBVSU1vZGVsO1xuICBsb2dpY01vZGVsOiBMb2dpY01vZGVsO1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLy8gdGhpcyBjb3VsZCBiZSBgbmV3IExvZ2ljTW9kZWwoKWAgaW4gYSBsb2NhbCB2ZXJzaW9uLCBhcyBtZWRpYXRvciB3aWxsIGltcGxlbWVudCB0aGUgTG9naWNNb2RlbCBpbnRlcmZhY2VcbiAgICB0aGlzLmxvZ2ljTW9kZWwgPSBuZXcgTWVkaWF0b3IoKVxuICAgIHRoaXMudWlNb2RlbCA9IG5ldyBVSU1vZGVsKHRoaXMubG9naWNNb2RlbClcblxuICAgIHRoaXMudmlldyA9IG5ldyBWaWV3KHRoaXMubG9naWNNb2RlbCwgdGhpcy51aU1vZGVsLCB7dGVycmFpbjogdGVycmFpbnNoZWV0RGF0YSwgdWk6IHVpc2hlZXREYXRhLCB1bml0czogdW5pdHNoZWV0RGF0YX0pIC8vIGdldCBzcHJpdGVzaGVldCBkYXRhIGZyb20gYSBjb25maWcgZmlsZT9cbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzLnVpTW9kZWwpIC8vIEFuZCB0aGlzLnZpZXcgaWYgdXNpbmcgbW91c2UgaW5wdXQ/XG5cbiAgICB0aGlzLnBlcmZvcm1Bc3luY1NldHVwKClcbiAgfVxuXG4gIGFzeW5jIHBlcmZvcm1Bc3luY1NldHVwKCkge1xuICAgIC8vIENhbGwgYW5kIGF3YWl0IGFsbCBpbml0aWFsIGFzeW5jIGZ1bmN0aW9ucyBoZXJlLlxuICAgIC8vIEVnLiB0aGlzLnZpZXcubG9hZFNwcml0ZXNoZWV0cygpXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgSW1hZ2VMb2FkZXIubG9hZCh0ZXJyYWluc2hlZXREYXRhLCB1aXNoZWV0RGF0YSwgdW5pdHNoZWV0RGF0YSlcbiAgICAgIC8vIEFueSBvdGhlciBhc3luYyBzZXQgdXAgZnVuY3Rpb25zXG4gICAgXSlcbiAgICB0aGlzLnJ1bkdhbWUoKVxuICB9XG5cbiAgcnVuR2FtZSgpe1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMudmlldy5yZW5kZXIoKVxuICAgIH0sIDEwMDAgLyAzMClcbiAgfVxufSIsImltcG9ydCBFbmdpbmUgZnJvbSAnLi4vZ2FtZUVuZ2luZS9lbmdpbmUnXG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBjbGFzcyBBcHAge1xuICBydW4gKCkge1xuICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUoKVxuICB9XG59IiwiaW1wb3J0IGFwcCBmcm9tICcuL2FwcC9hcHAnXG5cbmFwcC5ydW4oKSJdLCJzb3VyY2VSb290IjoiIn0=